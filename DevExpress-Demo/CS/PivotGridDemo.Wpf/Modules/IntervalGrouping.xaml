<local:PivotGridDemoModule x:Class="PivotGridDemo.IntervalGrouping"
                           xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                           xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                           xmlns:local="clr-namespace:PivotGridDemo"
                           xmlns:dxpg="http://schemas.devexpress.com/winfx/2008/xaml/pivotgrid"
                           xmlns:dxe="http://schemas.devexpress.com/winfx/2008/xaml/editors"
                           xmlns:dxmvvm="http://schemas.devexpress.com/winfx/2008/xaml/mvvm"
                           xmlns:dx="http://schemas.devexpress.com/winfx/2008/xaml/core"
                           xmlns:dxdb="http://schemas.devexpress.com/winfx/2008/xaml/demobase">
    <DockPanel>
        <local:PivotGridDemoRibbon DockPanel.Dock="Top" ExportPivotGrid="{x:Reference pivotGrid}"/>
        <!--#region Options-->
        <ScrollViewer HorizontalScrollBarVisibility="Disabled"
                      VerticalScrollBarVisibility="Auto"
                      Name="PART_Options"
                      DockPanel.Dock="Right"
                      dx:ScrollBarExtensions.ScrollBarMode="TouchOverlap"
                      Focusable="False">
            <StackPanel Margin="12,0,12,12" MinWidth="220">
                <dxe:CheckEdit Name="ceProductInterval"
                               IsChecked="{Binding ElementName=fieldProductAlphabetical, Path=Visible, Mode=TwoWay}"
                               Content="Show Product Alphabetically" />
                <dxe:CheckEdit Name="ceAdvancedIntervals"
                               Content="Show Extended Group Intervals" />
                <GroupBox Header="Group Interval for the OrderDate field" Margin="0,5,0,8">
                    <dxe:ListBoxEdit Name="cbGroupInterval"
                                     VerticalAlignment="Center"
                                     HorizontalAlignment="Stretch"
                                     ShowBorder="False"
                                     ValueMember="GroupInterval"
                                     DisplayMember="Caption"
                                     EditValue="{Binding ElementName=fieldOrderDateBinding, Path=GroupInterval, Mode=TwoWay}" >
                        <dxe:ListBoxEdit.ItemsSource>
                            <Binding ElementName="ceAdvancedIntervals" Path="IsChecked">
                                <Binding.Converter>
                                    <dxmvvm:BooleanToObjectConverter TrueValue="{x:Static local:IntervalGrouping.FieldExtendedGroupIntervals}" FalseValue="{x:Static local:IntervalGrouping.FieldGroupIntervals}" />
                                </Binding.Converter>
                            </Binding>
                        </dxe:ListBoxEdit.ItemsSource>
                        <dxe:ListBoxEdit.StyleSettings>
                            <dxe:RadioListBoxEditStyleSettings />
                        </dxe:ListBoxEdit.StyleSettings>
                    </dxe:ListBoxEdit>
                </GroupBox>
            </StackPanel>
        </ScrollViewer>
        <!--#endregion-->
        <dxpg:PivotGridControl x:Name="pivotGrid"
                               DataProcessingEngine="Optimized"
                               DataSource="{x:Static dxdb:NWindDataProvider.SalesPersons}"
                               local:FieldAreaHelper.FixAreas="True"
                               RowTreeWidth="248"
                               ShowFilterHeaders="False"
                               ShowDateTimeGroupIntervalItems="{Binding ElementName=ceAdvancedIntervals, Path=IsChecked, 
                                                                Converter={dxmvvm:BooleanToObjectConverter FalseValue='DefaultIntervals', TrueValue='ExtendedIntervals'}}"
                               FieldValueDisplayText="pivotGrid_FieldValueDisplayText"
                               ShowBorder="False">
            <dxpg:PivotGridControl.Fields>
                <dxpg:PivotGridField x:Name="fieldProductAlphabetical"
                                     DataBinding="{dxpg:DataSourceColumnBinding ProductName, GroupInterval=Alphabetical}"
                                     Area="RowArea"
                                     AreaIndex="0"
                                     Caption="Product Alphabetical"
                                     Width="155" />
                <dxpg:PivotGridField x:Name="fieldProductName" DataBinding="{dxpg:DataSourceColumnBinding ProductName}" Area="RowArea" AreaIndex="1" Width="155" Caption="Product" />
                <dxpg:PivotGridField x:Name="fieldExtendedPrice"
                                     DataBinding="{dxpg:DataSourceColumnBinding ExtendedPrice}"
                                     Area="DataArea"
                                     AreaIndex="0"
                                     CellFormat="c"
                                     HeaderImage="{dx:SvgImageSource Uri='pack://application:,,,/PivotGridDemo;component/Images/HeaderIcons/Price.svg', Size='16,16'}" />
                <dxpg:PivotGridField x:Name="fieldOrderDate"
                                     Area="ColumnArea"
                                     AreaIndex="0"
                                     ShowGroupIntervalName="True"
                                     ValueFormat="{Binding DataBinding.GroupInterval, RelativeSource={RelativeSource Self}, Converter={local:GroupIntervalToValueFormatConverter}}" >
                    <dxpg:PivotGridField.DataBinding>
                        <dxpg:DataSourceColumnBinding ColumnName="OrderDate" GroupInterval="DateWeekYear" Name="fieldOrderDateBinding" />
                    </dxpg:PivotGridField.DataBinding>
                </dxpg:PivotGridField>
            </dxpg:PivotGridControl.Fields>
        </dxpg:PivotGridControl>
    </DockPanel>
</local:PivotGridDemoModule>