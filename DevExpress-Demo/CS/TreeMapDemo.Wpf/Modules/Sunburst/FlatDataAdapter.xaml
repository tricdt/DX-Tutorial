<local:TreeMapDemoModule
    x:Class="TreeMapDemo.SunburstFlatDataAdapterDemo"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:dxe="http://schemas.devexpress.com/winfx/2008/xaml/editors"
    xmlns:dxtm="http://schemas.devexpress.com/winfx/2008/xaml/treemap"
    xmlns:dxtmt="http://schemas.devexpress.com/winfx/2008/xaml/treemap/themekeys"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="clr-namespace:TreeMapDemo">
    <!--#region Resources-->
    <local:TreeMapDemoModule.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary
                    Source="/TreeMapDemo;component/Themes/Common.xaml" />
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </local:TreeMapDemoModule.Resources>
    <!--#endregion-->
    <DockPanel>

        <!--#region Options-->
        <ScrollViewer
            Style="{StaticResource optionsScrollViewerStyle}"
            x:Name="PART_Options">
            <StackPanel
                Style="{StaticResource optionsRootStackPanelStyle}">
                <GroupBox
                    Header="Label Display Mode">
                    <dxe:ListBoxEdit
                        Name="lbeLabelMode"
                        ItemsSource="{dxe:EnumItemsSource EnumType=dxtm:SunburstLabelDisplayMode}"
                        SelectedIndex="2"
                        VerticalAlignment="Top" />
                </GroupBox>
                <GroupBox
                    Header="Tooltip Open Mode">
                    <dxe:ListBoxEdit
                        Name="lbeToolTipOpenMode"
                        ItemsSource="{dxe:EnumItemsSource EnumType=dxtm:ToolTipOpenMode}"
                        SelectedIndex="0"
                        VerticalAlignment="Top" />
                </GroupBox>
                <GroupBox
                    Header="Sweep Direction">
                    <dxe:ListBoxEdit
                        Name="lbeSweepDirection"
                        ItemsSource="{dxe:EnumItemsSource EnumType=dxtm:SunburstSweepDirection}"
                        SelectedIndex="0"
                        VerticalAlignment="Top" />
                </GroupBox>
                <GroupBox
                    Header="Start Angle">
                    <StackPanel>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition />
                                <ColumnDefinition />
                                <ColumnDefinition />
                            </Grid.ColumnDefinitions>
                            <TextBlock
                                Grid.Column="0"
                                Text="-360"
                                HorizontalAlignment="Left" />
                            <TextBlock
                                Grid.Column="1"
                                Text="0"
                                HorizontalAlignment="Center" />
                            <TextBlock
                                Grid.Column="2"
                                Text="360"
                                HorizontalAlignment="Right" />
                        </Grid>
                        <dxe:TrackBarEdit
                            Name="tbeStartAngle"
                            Value="0"
                            Minimum="-360"
                            Maximum="360"
                            SmallStep="1"
                            LargeStep="10"
                            TickPlacement="BottomRight"
                            TickFrequency="45" />
                    </StackPanel>
                </GroupBox>

                <GroupBox
                    Header="Hole Radius Percent">
                    <StackPanel>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition />
                                <ColumnDefinition />
                                <ColumnDefinition />
                            </Grid.ColumnDefinitions>
                            <TextBlock
                                Grid.Column="0"
                                Text="0"
                                HorizontalAlignment="Left" />
                            <TextBlock
                                Grid.Column="1"
                                Text="50"
                                HorizontalAlignment="Center" />
                            <TextBlock
                                Grid.Column="2"
                                Text="100"
                                HorizontalAlignment="Right" />
                        </Grid>
                        <dxe:TrackBarEdit
                            Name="tbeHoleRadiusPercent"
                            Value="20"
                            Minimum="0"
                            Maximum="100"
                            SmallStep="1"
                            LargeStep="10"
                            TickPlacement="BottomRight"
                            TickFrequency="10" />
                    </StackPanel>
                </GroupBox>
            </StackPanel>
        </ScrollViewer>
        <!--#endregion-->

        <dxtm:SunburstControl
            MinLabelSize="15,8"
            UseLayoutRounding="True"
            SnapsToDevicePixels="True"
            ToolTipEnabled="True"
            LabelDisplayMode="{Binding ElementName=lbeLabelMode, Path=EditValue}"
            ToolTipPattern="{}{L}"
            ToolTipGroupPattern="{}{L}: {V} elements"
            SweepDirection="{Binding ElementName=lbeSweepDirection, Path=EditValue}"
            StartAngle="{Binding ElementName=tbeStartAngle, Path=Value}"
            HoleRadiusPercent="{Binding ElementName=tbeHoleRadiusPercent, Path=Value}">
            <dxtm:SunburstControl.Legend>
                <dxtm:Legend HorizontalPosition="Right" VerticalPosition="Top" Margin="0">
                    <dxtm:Legend.Title>
                        <dxtm:LegendTitle HorizontalAlignment="Center" Content="Chemical Element Block" FontWeight="SemiBold"/>
                    </dxtm:Legend.Title>
                </dxtm:Legend>
            </dxtm:SunburstControl.Legend>

            <dxtm:SunburstControl.DataAdapter>
                <dxtm:SunburstFlatDataAdapter
                    x:Name="dataAdapter"
                    LabelDataMember="Symbol"
                    ValueDataMember="FakeValue"
                    DataSource="{Binding}"
                    GroupDataMembers="Block, Family" />
            </dxtm:SunburstControl.DataAdapter>

            <dxtm:SunburstControl.Colorizer>
                <local:ChemicalElementColorizer LegendItemPattern="{}{L}: {V} elements"/>
            </dxtm:SunburstControl.Colorizer>

            <dxtm:SunburstControl.ToolTipOptions>
                <dxtm:ToolTipOptions
                    OpenMode="{Binding ElementName=lbeToolTipOpenMode, Path=EditValue}"
                    InitialDelay="0:0:0:0.1" />
            </dxtm:SunburstControl.ToolTipOptions>

            <!--#region ToolTip Content Template-->
            <dxtm:SunburstControl.ToolTipContentTemplate>
                <DataTemplate>
                    <Grid
                        Margin="5">
                        <Grid.Resources>
                            <Style
                                TargetType="TextBlock">
                                <Setter
                                    Property="Foreground"
                                    Value="{DynamicResource {dxtmt:TreeMapBrushesThemeKey ResourceKey=ToolTipForeground}}" />
                            </Style>
                        </Grid.Resources>
                        <Grid.RowDefinitions>
                            <RowDefinition
                                Height="Auto" />
                            <RowDefinition
                                Height="Auto" />
                            <RowDefinition
                                Height="Auto" />
                            <RowDefinition
                                Height="Auto" />
                            <RowDefinition
                                Height="Auto" />
                            <RowDefinition
                                Height="Auto" />
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition
                                Width="Auto" />
                            <ColumnDefinition
                                Width="5" />
                            <ColumnDefinition
                                Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBlock
                            Text="{Binding Item.Name}"
                            Grid.ColumnSpan="2"
                            FontSize="{DynamicResource {dxtmt:TreeMapBrushesThemeKey ResourceKey=ToolTipFontSize}}"
                            FontWeight="{DynamicResource {dxtmt:TreeMapBrushesThemeKey ResourceKey=ToolTipFontWeight}}" />
                        <TextBlock
                            Text="Atomic Number:"
                            Grid.Row="1" />
                        <TextBlock
                            Text="{Binding Item.AtomicNumber }"
                            Grid.Row="1"
                            Grid.Column="2" />
                        <TextBlock
                            Text="Atomic Mass:"
                            Grid.Row="2" />
                        <TextBlock
                            Text="{Binding Item.AtomicMass, StringFormat='{}{0} u (±)'}"
                            Grid.Row="2"
                            Grid.Column="2" />
                        <TextBlock
                            Text="Density:"
                            Grid.Row="3" />
                        <TextBlock
                            Text="{Binding Item.Density, StringFormat='{}{0} g/cm³'}"
                            Grid.Row="3"
                            Grid.Column="2" />
                        <TextBlock
                            Text="Melting Point:"
                            Grid.Row="4" />
                        <TextBlock
                            Text="{Binding Item.MeltingPoint, StringFormat='{}{0} K'}"
                            Grid.Row="4"
                            Grid.Column="2" />
                        <TextBlock
                            Text="Boiling Point:"
                            Grid.Row="5" />
                        <TextBlock
                            Text="{Binding Item.BoilingPoint, StringFormat='{}{0} K'}"
                            Grid.Row="5"
                            Grid.Column="2" />
                    </Grid>
                </DataTemplate>
            </dxtm:SunburstControl.ToolTipContentTemplate>
            <!--#endregion-->

            <dxtm:SunburstControl.LabelStyle>
                <Style
                    TargetType="{x:Type dxtm:SunburstLabelPresentation}">
                    <Setter
                        Property="FontSize"
                        Value="10" />
                </Style>
            </dxtm:SunburstControl.LabelStyle>

            <dxtm:SunburstControl.HoleContent>
                <Viewbox>
                    <TextBlock
                        Padding="10"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center"
                        Text="Periodic&#x0a;Table"
                        TextAlignment="Center">
                    </TextBlock>
                </Viewbox>
            </dxtm:SunburstControl.HoleContent>

        </dxtm:SunburstControl>

    </DockPanel>
</local:TreeMapDemoModule>