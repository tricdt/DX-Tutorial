using System.Linq;
using System.Windows;
using DevExpress.Xpf.DemoBase;

namespace ChartsDemo {
    [CodeFile("Modules/ChartElements/Annotations.xaml"),
     CodeFile("Modules/ChartElements/Annotations.xaml.(cs)"),
     CodeFile("DataModels/MarsTemperatureData.(cs)"),
     NoAutogeneratedCodeFiles]
    public partial class AnnotationsDemo : ChartsDemoModule {
        public AnnotationsDemo() {
            InitializeComponent();
        }

        void BoundDataChanged(object sender, RoutedEventArgs e) {
            var min = this.splineSeries.Points.Aggregate((seed, current) => seed.Value < current.Value ? seed : current);
            this.minimumPoint.SeriesPoint = min;
            this.minimumAnnotationContent.Text = "Minimum: " + min.Value;

            var max = this.splineSeries.Points.Aggregate((seed, current) => seed.Value > current.Value ? seed : current);
            this.maximumPoint.SeriesPoint = max;
            this.maximumAnnotationContent.Text = "Maximum: " + max.Value;
        }
    }
}
